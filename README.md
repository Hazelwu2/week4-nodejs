
<div align="center">
  <a href="https://github.com/Hazelwu2/week4-nodejs.git">
    <img src="./logo.png" alt="Logo" width="80" height="80">
  </a>

  <h3 align="center">Week4 Nodejs Express</h3>

  <p align="center">
    ğŸŒ± è²¼æ–‡å‹•æ…‹ç‰† API in Node.js
    <br />
    <a href="https://github.com/Hazelwu2/week4-nodejs/issues">Report Bug</a>
    Â·
    <a href="https://week4-nodejs-frontend.vercel.app/">ç·šä¸ŠDemo</a>
  </p>
</div>

## ğŸ›– About This Project
ç¬¬å››é€±ã€ç¬¬äº”é€±å…­è§’å­¸é™¢ Nodejs ä¸»ç·šä»»å‹™ï¼Œæ‰“é€ å…¨ç«¯ (Full Stack) ç¶²ç«™æ¶æ§‹ï¼Œå‰å¾Œç«¯åˆ†é›¢é–‹ç™¼ã€‚
- [å¾Œç«¯Repo](https://github.com/Hazelwu2/week4-nodejs.git)
- [å‰ç«¯ React + Typescript + Axios](https://github.com/Hazelwu2/week4-nodejs-frontend.git)
- [ç·šä¸ŠDemo](https://week4-nodejs-frontend.vercel.app/)
- [Week6 Postman æ‰€æœ‰API](https://github.com/Hazelwu2/week4-nodejs-backend/blob/main/wee4-all-api.json)
- [Postman åŒ¯å…¥ç’°å¢ƒè®Šæ•¸](https://github.com/Hazelwu2/week4-nodejs-backend/blob/main/Heroku-week4.postman_environment.json)
- [Week7 Postman æ‰€æœ‰API](https://github.com/Hazelwu2/week4-nodejs-backend/blob/main/week7.json)

### Week4
ç­‰ç´šè¡¨
#### LV1ï¼šæ•´åˆ user modelï¼Œåªåšå¾Œç«¯ API
  - è¨­è¨ˆ[é€™é ](https://xd.adobe.com/view/c0763dbe-fc15-42e8-be0b-8956ed03e675-9525/screen/5b6bb2a0-f0f3-4b39-841f-8cf3a0ed9707)çš„ GET API
  - è¨­è¨ˆ[é€™é ](https://xd.adobe.com/view/c0763dbe-fc15-42e8-be0b-8956ed03e675-9525/screen/dfc7891e-63fd-4141-989a-8776ee7ea9f0) POST API
  - ç™¼æ–‡äºº ID å¯å…ˆå›ºå®š

#### LV2ï¼šå‰å¾Œç«¯éƒ½åš
  - 3.[å…¨é«”å‹•æ…‹ç‰†](https://xd.adobe.com/view/c0763dbe-fc15-42e8-be0b-8956ed03e675-9525/screen/5b6bb2a0-f0f3-4b39-841f-8cf3a0ed9707)ï¼Œä¸¦éœ€è¨­è¨ˆç¯©é¸åŠŸèƒ½(å¾æ–°åˆ°èˆŠè²¼æ–‡ã€å¾èˆŠåˆ°æœ€æ–°ã€é—œéµå­—æœå°‹)
  - 3-3.[å…¨é«”å‹•æ…‹ç‰†-æ²’æœ‰å‹•æ…‹](https://xd.adobe.com/view/c0763dbe-fc15-42e8-be0b-8956ed03e675-9525/screen/fb06b070-009d-4ccf-9d60-248b9f51dcd4)
  - 7.[å¼µè²¼å‹•æ…‹](https://xd.adobe.com/view/c0763dbe-fc15-42e8-be0b-8956ed03e675-9525/screen/dfc7891e-63fd-4141-989a-8776ee7ea9f0)ï¼šä¸Šå‚³åœ–ç‰‡æŒ‰éˆ•è«‹ç§»é™¤ï¼Œæ”¹ç”¨ input.textï¼Œç›´æ¥æ”¾åœ–ç‰‡ç¶²å€ï¼Œå¯åšç°¡æ˜“ client é©—è­‰ï¼Œæ˜¯å¦é–‹é ­å­—ä¸²ç‚º https

#### LV3ï¼šå‰å¾Œç«¯éƒ½åš + è©¦è‘—è‡ªå·±æ¥ imgur API
  - å…ˆä¸Šå‚³æˆåŠŸå›å‚³åœ–ç‰‡ç¶²å€å¾Œï¼Œå†é€å‡ºè²¼æ–‡

### Week5
- è«‹è¨­è¨ˆä¸€å€‹ middlewareï¼Œè®“ controller ç¨‹å¼ç¢¼è£¡é¢æ²’æœ‰ try catch
- è«‹é€éç’°å¢ƒè®Šæ•¸åŸ·è¡ŒæŒ‡ä»¤åŠ ä¸Š devã€production çš„å®¢è£½åŒ–å›é¥‹
- æ‰¿ç¬¬äºŒé»ï¼Œè«‹è§€çœ‹æ­¤å¼µåœ–ï¼Œç¢ºä¿ä½ çš„å¾Œç«¯èªè¨€æœ‰å®¢è£½åŒ–å„ç¨®éŒ¯èª¤ç‹€æ…‹ï¼ŒåŒ…å« NPM çš„éŒ¯èª¤è¨Šæ¯å®¢è£½åŒ–
- è«‹é€é node.js uncaughtExceptionã€unhandledRejection ä¾†æ•æ‰é æœŸå¤–çš„éŒ¯èª¤


* ä¸Šå‚³ [GitHub](https://github.com/Hazelwu2/week4-nodejs.git)
* config.env å¿½ç•¥ï¼Œä¸èƒ½åœ¨ GitHub ä¸Šï¼šä»¥.envå–ä»£
* è«‹é€£æ¥ mongodb é›²ç«¯ atlas è³‡æ–™åº«
* dotenv åŠ ä¸Šç’°å¢ƒè®Šæ•¸ï¼Œè®“ç¨‹å¼æ›´å®‰å…¨
* éƒ¨ç½²åˆ° [heroku ä¸»æ©Ÿ](https://week4-nodejs.herokuapp.com/)

API è¦æ ¼

* Createï¼šå»ºç«‹ Post è²¼æ–‡ï¼Œ[POST] /posts/
* Readï¼šé–±è®€ Post è²¼æ–‡ï¼Œ[GET] /posts/
* Editï¼šç·¨è¼¯ Post è²¼æ–‡ï¼Œ[GET] /posts/{id}
* Deleteï¼šåˆªé™¤å–®ç¯‡ Post è²¼æ–‡ï¼Œ[DELETE] /posts/{id}
* Deleteï¼šåˆªé™¤æ‰€æœ‰ Post è²¼æ–‡ï¼Œ[DELETE] /posts/

### Week7
- ä»‹æ¥ Imgur ç¬¬ä¸‰æ–¹åœ–åºŠæœå‹™ï¼Œæ•™å­¸æ–‡ä»¶
- è¨­è¨ˆä¸€å€‹ /upload è·¯ç”±ï¼Œä¾†è¨­è¨ˆä¸Šå‚³åœ–ç‰‡åŠŸèƒ½ï¼Œå¾Œç«¯å¾—é©—è­‰æ˜¯å¦ç¬¦åˆ 2mb é™åˆ¶ã€æ ¼å¼æ”¯æ´ jpgã€png
- éœ€é€šé isAuth ç™»å…¥é©—è­‰ middleware æ‰å¯ä¸Šå‚³

### Week8
#### ä¸»ç·šä»»å‹™
è«‹è¨­è¨ˆ 17 éš» APIï¼Œè«‹ä½¿ç”¨ POSTMAN collecion é€éè³‡æ–™å¤¾ä¾†åˆ†é¡ã€‚
è‹¥æœ‰é¡å¤–æ–°å¢ APIï¼Œè«‹æ–¼ä»»å‹™å…§å®¹åˆ†äº«ï¼Œä¸¦å‘ŠçŸ¥æƒ³çœ‹å“ª 5 æ”¯ APIã€‚

æœƒå“¡åŠŸèƒ½
- [POST]è¨»å†Šæœƒå“¡ï¼š{url}/user/sign_up
- [POST]ç™»å…¥æœƒå“¡ï¼š{url}/users/sign_in
- [PATCH]é‡è¨­å¯†ç¢¼ï¼š{url}/users/updatePassword
- [GET]å–å¾—å€‹äººè³‡æ–™ï¼š{url}/users/profile
- [PATCH]æ›´æ–°å€‹äººè³‡æ–™ï¼š{url}/users/profile

æœƒå“¡æŒ‰è®šè¿½è¹¤å‹•æ…‹
- [POST]è¿½è¹¤æœ‹å‹ï¼š{url}/users/{userID}/follow
- [DELETE]å–æ¶ˆè¿½è¹¤æœ‹å‹ï¼š{url}/users/{userID}/unfollow
- [GET]å–å¾—å€‹äººæŒ‰è®šåˆ—è¡¨ï¼š{url}/users/getLikeList
- [GET]å–å¾—å€‹äººè¿½è¹¤åå–®ï¼š{url}/users/following

å‹•æ…‹è²¼æ–‡
- [GET]å–å¾—æ‰€æœ‰è²¼æ–‡ï¼š{url}/posts
- [GET]å–å¾—å–®ä¸€è²¼æ–‡ï¼š{url}/posts/{postID}
- [POST]æ–°å¢è²¼æ–‡ï¼š{url}/posts
- [POST]æ–°å¢ä¸€å‰‡è²¼æ–‡çš„è®šï¼š{url}/posts/{postID}/like
- [DELETE]å–æ¶ˆä¸€å‰‡è²¼æ–‡çš„è®šï¼š{url}/posts/{postID}/unlike
- [POST]æ–°å¢ä¸€å‰‡è²¼æ–‡çš„ç•™è¨€ï¼š{url}/posts/{postID}/comment
- [GET]å–å¾—å€‹äººæ‰€æœ‰è²¼æ–‡åˆ—è¡¨ï¼š{url}/post/user/{userID}
å…¶ä»–
- [POST]ä¸Šå‚³åœ–ç‰‡ï¼š{url}/upload

## ğŸ”¨ Built With
æ­¤å°ˆæ¡ˆæœƒç”¨åˆ°çš„ Framework / Library æˆ–å·¥å…·

* [Nodejs](https://github.com/nodejs)
* [Heroku](https://www.heroku.com/)
* [Git](https://git-scm.com/)
* [Nodemon](https://www.npmjs.com/package/nodemon)
* [Mongoose](https://mongoosejs.com/)
* [dotenv](https://www.npmjs.com/package/dotenv)

## ğŸ‘¨â€ğŸ’» Getting Started
ä»¥ä¸‹ç…§è‘—ç¯„ä¾‹åšï¼Œå¯ä»¥è®“ä½ åœ¨æœ¬åœ°ç«¯ run æ­¤å°ˆæ¡ˆ

1. Clone the Repo
  ```sh
    git clone git@github.com:Hazelwu2/posts-mongoose-week2.git
  ```
2. Install NPM packages
  ```
  cd posts-mongoose-week2
  npm install
  ```
3. Setup .env to connect DB
  ```
  cp .env.example .env
  è¨­å®š .env åƒæ•¸ DB_URL, DB_PASSWORDï¼Œé ç«¯è³‡æ–™åº«ä½¿ç”¨ MongoDB Atlas
  ```

3. Start Runing Server
  ```
  npm run dev
  ```
4. Deploy to heroku
  ```
  herku create posts-mongoose-week2
  git push heroku main
  ```
5. Setting Heroku Variable
  ```
  Project/Settings
  Config Vars Add "DB_URL", "DB_PASSWORD"
  ```
6. DEBUG in Heroku
  ```
  heroku logs --tail
  ```


## ğŸ“• Mongoose CRUD Syntax
- æ–°å¢ï¼šModel.create()
- åˆªé™¤ï¼šModel.findByIdAndDelete()
- æ›´æ–°ï¼šModel.findByIdAndUpdate()
- æŸ¥è©¢ï¼šModel.find()
